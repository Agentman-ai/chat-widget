<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Chat Widget Colors</title>
</head>
<body>
    <h1>Testing Chat Widget Color Customization</h1>
    <p>The toggle button should be green (#6FE267)</p>
    
    <div id="chat-container"></div>

    <!-- Load the locally built widget -->
    <script src="./dist/index.js"></script>
    
    <script>
        // Initialize widget with custom colors matching Wix config
        const widget = new AgentmanChatWidget.ChatWidget({
            apiUrl: 'https://api.agentman.com',
            agentToken: 'test-token',
            containerId: 'chat-container',
            title: 'AI Assistant',
            variant: 'corner',
            theme: {
                textColor: '#111827',
                backgroundColor: '#FFFFFF',
                buttonColor: '#2563EB',
                buttonTextColor: '#FFFFFF',
                agentForegroundColor: '#111827',
                userForegroundColor: '#2563EB',
                toggleBackgroundColor: '#6FE267',  // Green
                toggleTextColor: '#FFFFFF',
                toggleIconColor: '#FFFFFF'
            }
        });

        console.log('Widget initialized');
        
        // Check if CSS variables are being set correctly
        setTimeout(() => {
            const widgetElement = document.querySelector('.am-chat-widget');
            if (widgetElement) {
                const styles = getComputedStyle(widgetElement);
                console.log('CSS Variables:');
                console.log('--chat-toggle-background-color:', styles.getPropertyValue('--chat-toggle-background-color'));
                console.log('--chat-toggle-text-color:', styles.getPropertyValue('--chat-toggle-text-color'));
                console.log('--chat-toggle-icon-color:', styles.getPropertyValue('--chat-toggle-icon-color'));
                
                // Check the actual toggle button
                const toggleButton = document.querySelector('.am-chat-toggle');
                if (toggleButton) {
                    const toggleStyles = getComputedStyle(toggleButton);
                    console.log('\nToggle Button Styles:');
                    console.log('Background color:', toggleStyles.backgroundColor);
                    console.log('Color:', toggleStyles.color);
                }
            }
        }, 1000);
    </script>
</body>
</html>